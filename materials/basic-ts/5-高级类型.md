# 高级类型

## 联合类型

联合类型（Unions）⽤来表示变量、参数的类型不是单⼀原⼦类型，⽽可能是多种不同的类型的组合。

1. 在联合类型中，可以直接访问各个接⼝成员都拥有的属性、⽅法，且不会提示类型错误。但是，如果是个别成员特有的属性、⽅法，我们就需要区分对待了，此时⼜要引⼊类型守卫来区分不同的成员类型。

2. 使用基于 in 操作符判断的类型守卫。

3. 可以合并联合类型为⼀个交叉类型，这个交叉类型需要同时满⾜不同的联合类型限制，也就是提取了所有联合类型的相同类型成员。

## 交叉类型

在 TypeScript 中，确实还存在⼀种类似逻辑与⾏为的类型⸺交叉类型（Intersection Type），它可以把多个类型合并成⼀个类型，合并后的类型将拥有所有成员类型的特性。

1. 任何类型都不能同时满足同时属于多种原子类型。

### 合并接口类型

1. 联合类型真正的⽤武之地就是将多个接⼝类型合并成⼀个类型，从⽽实现等同接⼝继承的效果，也就是所谓的合并接⼝类型。

## 联合、交叉组合

1. 实际上，联合、交叉运算符不仅在⾏为上表现⼀致，还在运算的优先级和 JavaScript 的逻辑或 ||、逻辑与 && 运算符上表现⼀致。

**联合操作符 | 的优先级低于交叉操作符 &，同样，我们可以通过使⽤⼩括弧()调整操作符的优先级。**

## 类型缩减

1. TypeScript 对这样的场景做了缩减，它把字⾯量类型、枚举成员类型缩减掉，只保留原始类型、枚举类型等⽗类型，这是合理的“优化”。

TypeScript 官⽅其实还提供了⼀个⿊魔法，它可以让类型缩减被控制。给⽗类型添加“& {}”即可。

2. 当联合类型的成员是接⼝类型，如果满⾜其中⼀个接⼝的属性是另外⼀个接⼝属性的⼦集，这个属性也会类型缩减。
