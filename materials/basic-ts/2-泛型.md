# 泛型

Q1：如何使用 TypeScript 实现 call 或 apply 函数？

Q2：什么是泛型？泛型的作用？

## 什么是泛型？

1. 泛型是 TypeScript 中非常基本、非常精华的特性。

可以借⽤ Java 中泛型的释义来回答这个问题：**泛型指的是类型参数化，即将原来某种具体的类型进行参数化。**

和定义函数一样，可以给泛型定义若干个类型参数，并在调用时给泛型传入明确的类型参数。

**设计泛型的目的在于有效约束类型成员之间的关系，** 比如函数参数和返回值、类或者接口成员和方法之间的关系。

### 泛型类型参数

1. 泛型最常⽤的场景是⽤来约束函数参数的类型。

2. 泛型不仅可以约束函数函数整个参数的类型，还可以约束参数属性，成员的类型。

3. **注意：函数的泛型入参必须和参数/参数成员建立有效的约束关系才有实际意义**

### 泛型类

1. 在类的定义中，可以使用泛型来约束构造函数、属性、方法的类型。

2. React 组件也支持泛型

```tsx
function GenericCom<P>(props: { prop1: string }) {
  return <></>;
}

<GenericCom<{ name: string }> prop1="1" />;
```

### 泛型类型

1. 在 TS 中，类型本身可以被定义为拥有不明确的类型参数的泛型，并且可以接受明确类型作为入参，从而衍生出更具体的类型。

2. 将类型入参的定义移动到类型别名或接口名称后，此时定义的一个接收具体类型入参后返回一个新类型的类型就是 **泛型类型**

3. 在泛型定义中，使用一些类型操作符进行运算表达，使得泛型可以根据入参的类型衍生出各异的类型。

4. 分配条件类型(Distributive Conditional Types)

**官方的释义：** 在条件类型判断的情况下(如：extends)，如果入参是联合类型，则会被拆解成一个个独立的(原子)类型(成员)进行类型运算。

5. **利用泛型，可以抽象封装出很多有用的、复杂的类型约束。**

6. **注意：枚举类型不支持泛型。**

### 泛型约束

泛型类似类型的函数，可以抽象、封装并接收(类型)入参，而泛型的入参也拥有类似函数入参的特性，**把泛型入参限定在一个相对更加明确的集合内，以便对入参进行约束。**
