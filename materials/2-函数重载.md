# 函数重载，方法重载

1，vue3 底层源码多处使用了带泛型的函数重载

2，函数重载或方法适用于完成项目某种相同功能但细节有不同的应用场景

3，在 ts 函数重载中，包含了实现签名和重载签名，实现签名是一种函数签名，重载签名也是一种函数签名

## 应用场景

1，函数重载或方法重载适用于完成项目某种相同功能但细节有不同的应用场景

## 重要性和优势

1，结构分明

- 提升代码的可读性和可维护性

2，各司其职，自动提示方法和属性

- 每个重载签名函数完成各自功能，输出取值时不用强制转换就能出现自动提示，从而提高开发效率

3，更利于功能扩展

## 定义规则和细则

1，函数签名(function signature)，包括如下：

- 函数名称
- 函数参数
- 函数参数类型
- 返回值类型

2，满足下面规则的一组函数即为 typescript 函数重载：

- 由一个实现签名和一个或多个重载签名组成
- 外部调用函数重载定义的函数时，只能调用重载签名，不能调用实现签名

Note: `TS 的规定 - 实现签名下的函数体是给重载签名编写的，实现签名只是在定义时起到了统领所有重载签名的作用，在执行调用时是看不到实现签名`

- 调用重载函数时，会根据传递的参数来判断你调用的是哪一个函数
- 有且仅有一个函数体，即只有实现签名有函数体，所有的重载签名都只有签名，没有配备函数体
- 实现签名参数个数可以少于重载签名的参数个数，但实现签名中使用了重载签名的某个位置的参数 ，那实现签名就必须兼容所有重载签名该位置的参数类型
- 必须给重载签名提供返回值类型，ts 无法默认推导出

## 方法签名

1，和函数签名一样，方法签名 = 方法名称 + 方法参数 + 方法参数类型 + 返回值类型四者组成

## 构造器重载

1，构造器重载和函数重载基本一致，主要区别：

- ts 类构造器重载签名和实现签名都不需要管理返回值

`ts构造器是在对象创建出来之后，但是还没有赋值给对象变量之前被执行，一般用来给对象属性赋值`

2，ts 类中只能定义一个构造器，但实际应用时，ts 类在创建对象时经常需要用到有多个构造器的场景

3，构造器可以看成构造函数，但不能被看成一个方法

## 要点

1，TS 虽然是静态类型语言，有推导功能，但是不能在调用方法之前根据传入的值推导出最终返回的值类型

2，unknown 类型是任何一种类型的父类，但是不能作为任意一种类型的子类

3，any 类型既可以作为任何一种类型的父类，也可以作为任意一种类型的子类

4，类的构造器会隐式返回 this，它是一个对象变量，指向当前正在创建的对象
