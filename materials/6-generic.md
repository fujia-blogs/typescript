# 泛型(generics)

1，泛型的重要性

- 当前采用 TS 整合前端框架的大中型项目越来越多，而 TS 泛型是核心技能

2，泛型特点：

> 泛型是一种参数化类型

- 定义时不明确，使用时必须明确成某种具体数据类型的数据类型 -「泛型的宽泛」
- 编译期间进行数据类型安全检查的数据类型 -「泛型的严谨」

3，泛型可以给定一个默认值

```ts
class ArrayList<T = any> {}

class ArrayList<T = {}> {}
```

4，T extends object: 是泛型约束的一种表现，进一步缩小泛型的具体化数据类型的范围

理解 - 表示具体化的泛型类型只能是 object 类型

## 问答

1，TS 中 object 类型为什么不能替代泛型？

- 编译期间 object 无法进行类型安全检查，而泛型在编译期间可以进行类型检查
- object 只能接受 object 类型，泛型可以接受任何类型
- object 类型数据获取属性和方法时不能自动提示

2，Object 和 object 类型的区别？

- Object 可以表示任何类型的父类
- object 只表示对象类型

3，any 为什么不能替代泛型？

- 编译期间 any 无法进行类型安全检查，而泛型在编译期间可以进行类型检查
- any 扩大数据类型的属性后没有编译错误导致潜在错误风险，而泛型能有效避免
- any 类型数据获取属性和方法时不能自动提示

## 泛型类

## 泛型接口

1，好处：

- 降低代码管理成本，提供统一属性和方法命名
- 可以快速通读类的共同方法和属性
- 和多态结合增加了项目的扩展性和简洁性

### 封装一个 LinkedList

1，与封装的 ArrayList，Set 对比：

- ArrayList，Set 底层都是基于数组二次封装的类，它们的查询效率很高，**但插入、更新，删除的效率低**
- LinkedList 基于链表结构，插入，删除数据的效率高，但是查询效率低，而且提供 addFirst 和 addLast 可以快速的将数据插到首位和末尾

2，使用场景：

数据需要频繁插入，更新，添加操作，可以使用 LinkedList，如：新闻项目，股票系统

## 泛型接口+泛型类+泛型约束+多态

## 要点

1，TS 中，类型安全检查发生在编译期间

2，泛型是参数化的数据类型，使用时明确后的数据类型就是参数的值

3，泛型形参类型一般有两种表示：

> 大多数情况使用，使用一个大写字母表示

- A-Z 一个大写字母
- 语义化的单词表示

4，any 类型可以获取任何属性和任意方法而不会出现编译错误，**这个特性是把双刃剑，可以带来方便，也存在潜在的风险**

5，keyof，表示获取一个类、对象类型或接口类型的所有属性名组成的**联合类型**

6，接口(interface)和抽象类(abstract class)如何选择？

如果一个类中方法都需要实现，且不需要构造器，可以使用接口

7，多态体特征：

- 父类实例对象可以接受任何它的子类对象
- 接口类型对象变量可以接受任何它的实现类的对象
